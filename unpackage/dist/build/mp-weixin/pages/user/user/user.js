(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user/user"],{"0cfb":function(n,t,e){"use strict";e.r(t);var i=e("7549"),a=e.n(i);for(var o in i)"default"!==o&&function(n){e.d(t,n,(function(){return i[n]}))}(o);t["default"]=a.a},"4cca":function(n,t,e){},"6ea8":function(n,t,e){"use strict";var i=e("4cca"),a=e.n(i);a.a},7549:function(n,t,e){"use strict";(function(n){t.__esModule=!0,t["default"]={data:function(){return{isLogin:!1,nickname:"",avatar:"",personal_list_my:[{name:"修改密码",image:"",url:"/pages/user/set/set"},{name:"基本信息",image:"",url:"/pages/user/basic/basic"},{name:"我的工资",image:"",url:"/pagesB/pages/wage/wage/wage"}],grade:"",icon:[]}},onLoad:function(){var n=this;this.icon=this.common.get("icon");var t=this.common.get("state");1==t?this.isLogin=!1:2==t&&(this.isLogin=!0);var e=this.common.get("uid"),i=this.common.get("token");if(""!=e){var a=this.common.get("icon");this.personal_list_my[0].image=a[9].icon,this.personal_list_my[1].image=a[10].icon,this.personal_list_my[2].image=a[11].icon,this.http({url:this.api.My_Data,method:"POST",data:{uid:e,token:i},success:function(t){0==t.code?n.isLogin=!1:(n.nickname=t.name,n.avatar=t.avatar,n.grade=t.grade,1==n.grade?(n.personal_list_my[0].grade=1,n.personal_list_my[1].grade=1):(n.personal_list_my[0].grade=2,n.personal_list_my[2].grade=2))}})}},methods:{tiaozhuan:function(){n.navigateToMiniProgram({appId:"wxa59d080ba74b049a",success:function(n){}})},login:function(){var t=this;this.http({url:this.api.Contact_icon,method:"POST",data:{},success:function(n){t.common.set("icon",n.list)}}),n.getUserProfile({desc:"weixin",success:function(e){var i=e.encryptedData,a=e.iv,o=e.userInfo;n.login({provider:"weixin",success:function(n){var e=n.code;t.http({url:t.api.login,method:"POST",data:{code:e},success:function(n){if(n.session_key){var e=n.session_key;t.http({url:t.api.login,method:"POST",data:{avatar:o.avatarUrl,nick_name:o.nickname,sex:0,session_key:e,iv:a,encryptedData:i},success:function(n){t.store(n)}})}else t.store(n)}})}})}})},store:function(t){this.common.set("uid",t.uid),this.common.set("state",t.binding_state),1==t.binding_state?n.reLaunch({url:"/pagesB/pages/login/login"}):2==t.binding_state&&(this.common.set("token",t.token),n.reLaunch({url:"/pages/workbench/workbench/workbench"}))},quitLogin:function(){var t=this;n.showModal({title:"提示",content:"确定要退出当前账号吗？",success:function(e){e.confirm&&t.http({url:t.api.log_out,method:"POST",data:{uid:t.common.get("uid"),token:t.common.get("token")},success:function(e){t.common.set("uid",e.uid),n.reLaunch({url:"/pagesB/pages/login/login"})}})},fail:function(){},complete:function(){}})}}}}).call(this,e("d5d0")["default"])},"83e9":function(n,t,e){"use strict";var i;e.d(t,"b",(function(){return a})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i}));var a=function(){var n=this,t=n.$createElement;n._self._c},o=[]},"904d":function(n,t,e){"use strict";(function(n){e("a5e5");i(e("dc04"));var t=i(e("a40c"));function i(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=e,n(t.default)}).call(this,e("97ff")["createPage"])},a40c:function(n,t,e){"use strict";e.r(t);var i=e("83e9"),a=e("0cfb");for(var o in a)"default"!==o&&function(n){e.d(t,n,(function(){return a[n]}))}(o);e("6ea8");var s,c=e("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);t["default"]=r.exports}},[["904d","common/runtime","common/vendor"]]]);