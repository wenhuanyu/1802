require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/pages/baoxiao/transaction/transaction"],{"0ee1":function(t,e,n){"use strict";n.r(e);var i=n("739e"),a=n("d711");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("6175");var s,c=n("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=u.exports},"5e9f":function(t,e,n){"use strict";(function(t){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{remarkImage:[],tIndex:-1,typeList:[{id:1,name:"造林"},{id:2,name:"砍伐"}],nIndex:-1,NumList:[],order_num:"",showClient:!1,classification:[],count:"",secList:[],expense_type:"",expense_name:"",nickname:"",card:"",bank:"",money:"",remark:"",icon:[]}},onLoad:function(){var t=this;this.icon=this.common.get("icon"),this.http({url:this.api.Apply_order_num,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),type:1},success:function(e){t.order_num=e.order_num}}),this.http({url:this.api.Apply_expense_type,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token")},success:function(e){t.classification=e.list,t.count=t.classification[0].id,t.secList=t.classification[0].son_data}})},methods:n({Firstclick:function(t,e){var n=this;this.count=t,this.classification.map((function(t,e){n.count==t.id&&(n.secList=t.son_data)}))},selectGood:function(t){this.showClient=!1,this.expense_name=this.secList[t].name,this.expense_type=this.secList[t].id},openModal:function(t){this.preventEvent=!1,this.showClient=!0},closeModal:function(t){this.preventEvent=!1,this.showClient=!1},changeType:function(t){var e=this;this.tIndex=t.target.value,this.nIndex=-1,this.http({url:this.api.newQuartelList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),type:this.typeList[this.tIndex].id},success:function(t){e.NumList=t.list}})},changeNum:function(t){this.nIndex=t.target.value},previous:function(){var e=getCurrentPages(),n=e[e.length-2];t.navigateBack({success:function(){n.onLoad()}})},add:function(){var e=this;t.showModal({title:"提示",content:"确定当前操作吗？",success:function(n){n.confirm&&e.http({url:e.api.Apply_apply_affair,method:"POST",data:{uid:e.common.get("uid"),token:e.common.get("token"),type:e.typeList[e.tIndex].id,order_num:e.order_num,quartel_id:e.NumList[e.nIndex].id,expense_type:e.expense_type,nickname:e.nickname,card:e.card,bank:e.bank,money:e.money,remark:e.remark,image:e.remarkImage},success:function(n){t.showToast({title:"操作成功",icon:"none",duration:2e3}),setTimeout((function(){e.previous()}),500)}})},fail:function(){},complete:function(){}})},uploadImage:function(e){var n=this;t.chooseImage({count:1,success:function(e){var i=e.tempFilePaths[0];t.uploadFile({url:n.common.baseUrl+n.api.upload,filePath:i,name:"file",success:function(e){var i=JSON.parse(e.data);1==i.code?n.remarkImage.push(i.data.scalar):t.showToast({title:"上传失败",icon:"none"})},fail:function(e){t.showToast({title:"上传失败,"+e,icon:"none"})}})}})},previewImage:function(t){wx.previewImage({current:this.remarkImage[t],urls:this.remarkImage})},deleteImage:function(t){this.remarkImage.splice(t,1)}},"previous",(function(){var e=getCurrentPages(),n=e[e.length-2];t.navigateBack({success:function(){n.onLoad()}})}))};e.default=i}).call(this,n("d5d0")["default"])},6175:function(t,e,n){"use strict";var i=n("8632"),a=n.n(i);a.a},"739e":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement;t._self._c},o=[]},8632:function(t,e,n){},cdba:function(t,e,n){"use strict";(function(t){n("a5e5");i(n("dc04"));var e=i(n("0ee1"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("97ff")["createPage"])},d711:function(t,e,n){"use strict";n.r(e);var i=n("5e9f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a}},[["cdba","common/runtime","common/vendor"]]]);