require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/pages/baoxiao/reimbursement/reimbursement"],{"0e03":function(t,e,n){},"1e64":function(t,e,n){"use strict";(function(t){n("a5e5");i(n("dc04"));var e=i(n("53b8"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("97ff")["createPage"])},"212d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{list:[{expense_name:"",expense_type:"",money:"",remark:""}],tIndex:-1,typeList:[{id:1,name:"造林"},{id:2,name:"砍伐"}],nIndex:-1,NumList:[],order_num:"",remarkImage:[],showClient:!1,classification:[],count:"",secList:[],total_money:0,itemIndex:0,icon:[]}},onLoad:function(){var t=this;this.icon=this.common.get("icon"),this.http({url:this.api.Apply_order_num,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),type:3},success:function(e){t.order_num=e.order_num}}),this.http({url:this.api.Apply_expense_type,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token")},success:function(e){t.classification=e.list,t.count=t.classification[0].id,t.secList=t.classification[0].son_data}})},methods:{money:function(t,e){var n=this,i=t.detail.value;""==i&&(i=0),this.list[e].money=i,this.total_money=0,this.list.map((function(t,e){n.total_money=Number(n.total_money)+Number(t.money)}))},Firstclick:function(t,e){var n=this;this.count=t,this.classification.map((function(t,e){n.count==t.id&&(n.secList=t.son_data)}))},selectGood:function(t){this.showClient=!1,this.list[this.itemIndex].expense_name=this.secList[t].name,this.list[this.itemIndex].expense_type=this.secList[t].id},openModal:function(t){this.itemIndex=t,this.preventEvent=!1,this.showClient=!0},closeModal:function(t){this.preventEvent=!1,this.showClient=!1},changeType:function(t){var e=this;this.tIndex=t.target.value,this.nIndex=-1,this.http({url:this.api.newQuartelList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),type:this.typeList[this.tIndex].id},success:function(t){e.NumList=t.list}})},changeNum:function(t){this.nIndex=t.target.value},addList:function(){var t={expense_name:"",expense_type:"",money:"",remark:""};this.list.push(t)},del:function(e){1==this.list.length?t.showToast({title:"最少增加一笔",icon:"none",duration:2e3}):this.list.splice(e,1)},uploadImage:function(){var e=this;t.chooseImage({count:1,success:function(n){var i=n.tempFilePaths[0];t.uploadFile({url:e.common.baseUrl+e.api.upload,filePath:i,name:"file",success:function(n){var i=JSON.parse(n.data);1==i.code?e.remarkImage.push(i.data.scalar):t.showToast({title:"上传失败",icon:"none"})},fail:function(e){t.showToast({title:"上传失败,"+e,icon:"none"})}})}})},previewImage:function(t){wx.previewImage({current:this.remarkImage[t],urls:this.remarkImage})},deleteImage:function(t){this.remarkImage.splice(t,1)},previous:function(){var e=getCurrentPages(),n=e[e.length-2];t.navigateBack({success:function(){n.onLoad()}})},add:function(){var e=this;t.showModal({title:"提示",content:"确定当前操作吗？",success:function(n){n.confirm&&e.http({url:e.api.Apply_apply_cost,method:"POST",data:{uid:e.common.get("uid"),token:e.common.get("token"),type:e.typeList[e.tIndex].id,order_num:e.order_num,quartel_id:e.NumList[e.nIndex].id,total_money:e.total_money,image:e.remarkImage,info:JSON.stringify(e.list)},success:function(n){t.showToast({title:"操作成功",icon:"none",duration:2e3}),setTimeout((function(){e.previous()}),500)}})},fail:function(){},complete:function(){}})}}};e.default=n}).call(this,n("d5d0")["default"])},"379d":function(t,e,n){"use strict";n.r(e);var i=n("212d"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},"53b8":function(t,e,n){"use strict";n.r(e);var i=n("e7dc"),o=n("379d");for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("d9db7");var a,c=n("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=u.exports},d9db7:function(t,e,n){"use strict";var i=n("0e03"),o=n.n(i);o.a},e7dc:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},s=[]}},[["1e64","common/runtime","common/vendor"]]]);