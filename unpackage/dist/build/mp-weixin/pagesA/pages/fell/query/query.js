require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/pages/fell/query/query"],{"2e22":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={data:function(){return{items:["中转车","大车","预支","维修","补","扣"],count:0,show:!1,list:[],show_all:0,zhong:{dayCountTonnage:0,dayCountNum:0,CountNum:0,CountTonnage:0},big:{remaining:0,complete:0,CountTarget:0,CountNum:0,CountTonnage:0,dayCountTonnage:0,dayCountNum:0},yuzhi:{CountNum:0,CountPrice:0,dayCountPrice:0,dayCountNum:0},weixiu:{total_price:0,total_num:0},bu:{total_price:0,total_num:0},kou:{total_price:0,total_num:0},showZhong:!1,textZhong:"",carList:[],mingongList:[],count_I:"",car_emplo:"",car_emplo_id:"",car_number:"",showBig:!1,big_car:[],left_name:[],count_B:"",driversList:[],drivers_id:"",wj_name:"",chain_sawList:[],chain_saw_id:"",yjs_name:"",product_nameList:[],product_name_id:"",pm_name:"",site_userList:[],site_user_ids:"",site_user_name:"",start_time:"",end_time:"",icon:[],type_shoudan:[{id:1,name:"是",checked:!1},{id:0,name:"否",checked:!1}],checkedShoudanType:"",search_name:"",NameList:[],quartel_account:"",project:"",job_list:[],job_id:"",jobIndex:-1,dachexianging:!1,dachexiangqingList:[],dachexiangqingDetail:{},note:"",driversShow:!1,chain_sawShow:!1,product_nameShow:!1,site_userShow:!1,quartel_account_list:[],quartel_accountShow:!1}},onLoad:function(){var i=this;this.icon=this.common.get("icon"),this.page=1,this.data=this.common.get("kanfa"),t.setNavigationBarTitle({title:"查询-"+this.data.quartel_name}),this.http({url:this.api.Quartel_job_list,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id},success:function(t){i.job_list=t.list}}),this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,type:5},success:function(t){i.mingongList=t.list}}),this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,type:2},success:function(t){i.left_name=t.list}})},onShow:function(){this.page=1,this.listInterface()},onReachBottom:function(){var i=this;2==this.count?this.http({url:this.api.queryLists,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),emplo_name:this.search_name,type:3,page:this.page,start_time:this.start_time,end_time:this.end_time,quartel_id:this.data.id,job_id:this.job_id},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.yuzhi.CountNum=e.CountNum,i.yuzhi.CountPrice=e.CountPrice,i.yuzhi.dayCountPrice=e.dayCountPrice,i.yuzhi.dayCountNum=e.dayCountNum)}}):0==this.count?this.http({url:this.api.Quartel_cutDownList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),page:this.page,quartel_id:this.data.id,show_all:this.show_all,start_time:this.start_time,end_time:this.end_time,drivers_id:this.drivers_id,chain_saw_id:this.chain_saw_id,product_name_id:this.product_name_id,car_emplo_id:this.car_emplo_id,car_number:this.car_number,pounds_sn:this.search_name,note:this.note},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.zhong.dayCountTonnage=e.dayCountTonnage,i.zhong.dayCountNum=e.dayCountNum,i.zhong.CountNum=e.CountNum,i.zhong.CountTonnage=e.CountTonnage)}}):1==this.count?this.http({url:this.api.Quartel_bigCartList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),page:this.page,quartel_id:this.data.id,show_all:this.show_all,start_time:this.start_time,end_time:this.end_time,site_user_ids:this.site_user_ids,car_emplo_id:this.car_emplo_id,closed_order:this.checkedShoudanType,car_number:this.car_number,pounds_sn:this.search_name,note:this.note,quartel_account:this.quartel_account},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.big.remaining=e.remaining,i.big.complete=e.complete,i.big.CountTarget=e.CountTarget,i.big.CountNum=e.CountNum,i.big.CountTonnage=e.CountTonnage,i.big.dayCountTonnage=e.dayCountTonnage,i.big.dayCountNum=e.dayCountNum)}}):3==this.count?this.http({url:this.api.Quartel_maintenanceList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,project:this.project,job_id:this.job_id},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.weixiu.total_price=e.total_price,i.weixiu.total_num=e.total_num)}}):4==this.count?this.http({url:this.api.Quartel_subsidiesList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,job_id:this.job_id},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.bu.total_price=e.total_price,i.bu.total_num=e.total_num)}}):5==this.count&&this.http({url:this.api.Quartel_deductList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,project:this.project,job_id:this.job_id},success:function(e){i.page+=1,0==e.list.length?t.showToast({title:"没有更多了",icon:"none",duration:2e3}):(i.list=i.list.concat(e.list),i.kou.total_price=e.total_price,i.kou.total_num=e.total_num)}})},methods:{hideShow:function(){this.driversShow=!1,this.chain_sawShow=!1,this.product_nameShow=!1,this.site_userShow=!1,this.quartel_accountShow=!1},closeText:function(){this.driversShow=!1,this.chain_sawShow=!1,this.product_nameShow=!1,this.site_userShow=!1,this.quartel_accountShow=!1},search_blur:function(t,i){var e=this;setTimeout((function(){"drivers_id"==i?""==e.drivers_id?e.wj_name="":e.driversList.map((function(t,i){e.drivers_id==t.peasant_id&&(e.wj_name=t.nick_name)})):"chain_saw_id"==i?""==e.chain_saw_id?e.yjs_name="":e.chain_sawList.map((function(t,i){e.chain_saw_id==t.peasant_id&&(e.yjs_name=t.nick_name)})):"product_name_id"==i?""==e.product_name_id?e.pm_name="":e.product_nameList.map((function(t,i){e.product_name_id==t.id&&(e.pm_name=t.name)})):"site_user"==i?""==e.site_user_ids?e.site_user_name="":e.site_userList.map((function(t,i){e.site_user_ids==t.peasant_id&&(e.site_user_name=t.nick_name)})):"quartel_account"==i&&(""==e.quartel_account_id?e.quartel_account="":e.quartel_account_list.map((function(t,i){e.quartel_account_id==t.id&&(e.quartel_account=t.quartel_account)})))}),200)},toDetail:function(t,i){"drivers_id"==i?(this.drivers_id=t.peasant_id,this.wj_name=t.nick_name,this.driversShow=!1):"chain_saw_id"==i?(this.chain_saw_id=t.peasant_id,this.yjs_name=t.nick_name,this.chain_sawShow=!1):"product_name_id"==i?(this.product_name_id=t.id,this.pm_name=t.name,this.product_nameShow=!1):"site_user"==i?(this.site_user_ids=t.peasant_id,this.site_user_name=t.nick_name,this.site_userShow=!1):"quartel_account"==i&&(this.quartel_account_id=t.id,this.quartel_account=t.quartel_account,this.quartel_accountShow=!1)},search_site:function(t,i){var e=this,n=t.detail.value;"drivers_id"==i?(this.driversShow=!0,this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,search_name:n,type:3},success:function(t){e.driversList=t.list}})):"chain_saw_id"==i?(this.chain_sawShow=!0,this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,search_name:n,type:1},success:function(t){e.chain_sawList=t.list}})):"product_name_id"==i?(this.product_nameShow=!0,this.http({url:this.api.getPositionList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),contact_type:1,quartel_id:this.data.id,name:n},success:function(t){e.product_nameList=t.list}})):"site_user"==i?(this.site_userShow=!0,this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,type:4,search_name:n},success:function(t){e.site_userList=t.list}})):"quartel_account"==i&&(this.quartel_accountShow=!0,this.http({url:this.api.Quartel_quartel_account,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,search_name:n},success:function(t){e.quartel_account_list=t.quartel_account}}))},tankuan:function(){var t=this;this.http({url:this.api.Quartel_come_car,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id},success:function(i){t.dachexiangqingList=i.list,t.dachexiangqingDetail=i.top_data}}),this.dachexianging=!0},checkedType:function(t){this.checkedShoudanType=t.detail.value},changeDate:function(t,i){"start_time"==i?this.start_time=t:this.end_time=t},search:function(t){this.page=1,this.search_name=t,this.listInterface()},search_modal:function(){this.page=1,this.listInterface(),this.show=!1},changeName:function(t,i){"job"==i&&(this.jobIndex=t.target.value,this.job_id=this.job_list[this.jobIndex].id)},searchtextZhong:function(t){var i=this;this.textZhong=t,this.http({url:this.api.getTruckList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),quartel_id:this.data.id,type:5,nick_name:this.textZhong},success:function(t){i.mingongList=t.list,i.count_I="",i.carList=[]}})},Firstclick:function(t,i){var e=this;"zhongzhuanche"==i?(this.count_I=t,this.mingongList.map((function(t,i){e.count_I==t.id&&(e.carList=t.transfer_car,e.car_emplo_id=t.peasant_id,e.car_emplo=t.nick_name)}))):"dache"==i&&(this.count_B=t,this.left_name.map((function(t,i){e.count_B==t.id&&(e.big_car=t.cart,e.car_emplo_id=t.peasant_id,e.car_emplo=t.nick_name)})))},selectGood:function(t,i){"zhongzhuanche"==i?(this.car_number=this.carList[t],this.showZhong=!1):"dache"==i&&(this.car_number=this.big_car[t],this.showBig=!1)},shaixuan:function(){this.show=!0},openModal:function(t){"zhongzhuanche"==t?this.showZhong=!0:"dache"==t&&(this.showBig=!0)},closeModal:function(t){"zhongzhuanche"==t?this.showZhong=!1:"dache"==t?this.showBig=!1:"shaixuan"==t?this.show=!1:"xiangqing"==t&&(this.dachexianging=!1)},allSearch:function(){this.page=1,this.show_all=1,this.listInterface()},listInterface:function(){var i=this;0==this.count?this.http({url:this.api.Quartel_cutDownList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),page:this.page,quartel_id:this.data.id,show_all:this.show_all,start_time:this.start_time,end_time:this.end_time,drivers_id:this.drivers_id,chain_saw_id:this.chain_saw_id,product_name_id:this.product_name_id,car_emplo_id:this.car_emplo_id,car_number:this.car_number,pounds_sn:this.search_name,note:this.note},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.zhong.dayCountTonnage=e.dayCountTonnage,i.zhong.dayCountNum=e.dayCountNum,i.zhong.CountNum=e.CountNum,i.zhong.CountTonnage=e.CountTonnage}}):1==this.count?this.http({url:this.api.Quartel_bigCartList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),page:this.page,quartel_id:this.data.id,show_all:this.show_all,start_time:this.start_time,end_time:this.end_time,site_user_ids:this.site_user_ids,car_emplo_id:this.car_emplo_id,closed_order:this.checkedShoudanType,car_number:this.car_number,pounds_sn:this.search_name,note:this.note,quartel_account:this.quartel_account},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.big.remaining=e.remaining,i.big.complete=e.complete,i.big.CountTarget=e.CountTarget,i.big.CountNum=e.CountNum,i.big.CountTonnage=e.CountTonnage,i.big.dayCountTonnage=e.dayCountTonnage,i.big.dayCountNum=e.dayCountNum}}):2==this.count?this.http({url:this.api.queryLists,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),emplo_name:this.search_name,start_time:this.start_time,end_time:this.end_time,type:3,page:this.page,quartel_id:this.data.id,job_id:this.job_id},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.yuzhi.CountNum=e.CountNum,i.yuzhi.CountPrice=e.CountPrice,i.yuzhi.dayCountPrice=e.dayCountPrice,i.yuzhi.dayCountNum=e.dayCountNum}}):3==this.count?this.http({url:this.api.Quartel_maintenanceList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,project:this.project,job_id:this.job_id},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.weixiu.total_price=e.total_price,i.weixiu.total_num=e.total_num}}):4==this.count?this.http({url:this.api.Quartel_subsidiesList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,job_id:this.job_id},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.bu.total_price=e.total_price,i.bu.total_num=e.total_num}}):5==this.count&&this.http({url:this.api.Quartel_deductList,method:"POST",data:{uid:this.common.get("uid"),token:this.common.get("token"),pro_name:this.search_name,page:this.page,quartel_id:this.data.id,quartel_account:this.quartel_account,project:this.project,job_id:this.job_id},success:function(e){0==e.list.length&&t.showToast({title:"无数据",icon:"none",duration:2e3}),i.page+=1,i.list=e.list,i.kou.total_price=e.total_price,i.kou.total_num=e.total_num}})},getCurrentRow:function(i){this.common.set("tiqu",""),t.navigateTo({url:"/pagesA/pages/fell/listDetail/listDetail?data="+encodeURIComponent(JSON.stringify(i))})},change:function(t){console.log(t),this.page=1,this.count=t,this.search_name="",this.chongzhi(),this.listInterface()},chongzhi:function(){this.jobIndex=-1,this.job_id="",this.wj_name="",this.drivers_id="",this.yjs_name="",this.chain_saw_id="",this.pm_name="",this.product_name_id="",this.site_user_name="",this.site_user_ids="",this.car_number="",this.car_emplo_id="",this.car_emplo="",this.start_time="",this.end_time="",this.checkedShoudanType="",this.quartel_account="",this.project="",this.note="",this.type_shoudan=[{id:1,name:"是",checked:!1},{id:0,name:"否",checked:!1}],this.show_all=0},xuanze:function(){t.navigateTo({url:"/pagesA/pages/afforestation/choose/choose"})}}};i.default=e}).call(this,e("d5d0")["default"])},"2e76":function(t,i,e){},"37e6":function(t,i,e){"use strict";e.r(i);var n=e("c26e"),a=e("f618");for(var s in a)"default"!==s&&function(t){e.d(i,t,(function(){return a[t]}))}(s);e("c0b2");var o,u=e("f0c5"),h=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);i["default"]=h.exports},"8af0":function(t,i,e){"use strict";(function(t){e("a5e5");n(e("dc04"));var i=n(e("37e6"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(i.default)}).call(this,e("97ff")["createPage"])},c0b2:function(t,i,e){"use strict";var n=e("2e76"),a=e.n(n);a.a},c26e:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return s})),e.d(i,"a",(function(){return n}));var n={uniEasyinput:function(){return e.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(e.bind(null,"9281"))},uniTable:function(){return e.e("uni_modules/uni-table/components/uni-table/uni-table").then(e.bind(null,"cfd4"))},uniTr:function(){return e.e("uni_modules/uni-table/components/uni-tr/uni-tr").then(e.bind(null,"a209"))},uniTh:function(){return e.e("uni_modules/uni-table/components/uni-th/uni-th").then(e.bind(null,"7441"))},uniTd:function(){return e.e("uni_modules/uni-table/components/uni-td/uni-td").then(e.bind(null,"3c9c"))},uniDatetimePicker:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(e.bind(null,"6032"))}},a=function(){var t=this,i=t.$createElement;t._self._c},s=[]},f618:function(t,i,e){"use strict";e.r(i);var n=e("2e22"),a=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(i,t,(function(){return n[t]}))}(s);i["default"]=a.a}},[["8af0","common/runtime","common/vendor"]]]);