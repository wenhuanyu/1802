require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/pages/fell/add/add"],{"179e":function(t,e,i){"use strict";i.r(e);var n=i("6365"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a},3888:function(t,e,i){"use strict";i.r(e);var n=i("688e"),o=i("179e");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("94c1");var a,s=i("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=u.exports},6365:function(t,e,i){"use strict";(function(t){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{add_list:[{quartel_number:"",quartel_account:""}],button:"添加",quartel_name:"",quartel_time:"",form:"",icon:[],cityList:[],addressNode:{province:"",city:"",prefecture:""}}},onLoad:function(e){this.icon=this.common.get("icon"),this.data=this.common.get("kanfa"),e.data&&(t.setNavigationBarTitle({title:"编辑砍伐林班-"+this.data.quartel_name}),this.button="编辑",this.form=JSON.parse(decodeURIComponent(e.data)),this.addressNode.prefecture=this.form.prefecture,this.addressNode.province=this.form.province,this.addressNode.city=this.form.city,this.cityList[0]=this.form.province,this.cityList[1]=this.form.city,this.cityList[2]=this.form.prefecture,this.add_list=this.form.quartel_account,this.quartel_name=this.form.quartel_name,this.quartel_time=this.form.quartel_time)},methods:{selCity:function(t){console.log("e",t);var e=this,i=t.target.value;this.cityList=i,e.addressNode={province:this.cityList[0],city:this.cityList[1],prefecture:this.cityList[2]}},changeDate:function(t,e){this.quartel_time=t},previous:function(){var e=getCurrentPages(),i=e[e.length-2];t.navigateBack({success:function(){i.onLoad()}})},addhao:function(){var t={quartel_number:"",quartel_account:""};this.add_list.push(t)},del:function(e){1==this.add_list.length?t.showToast({title:"至少添加一个林班号",icon:"none",duration:2e3}):this.form.id?t.showToast({title:"当前为编辑状态，不能删除",icon:"none",duration:2e3}):this.add_list.splice(e,1)},add:function(){var e=this;this.form.id?this.http({url:this.api.afforestationEdits,method:"POST",data:n({uid:this.common.get("uid"),token:this.common.get("token"),type:2,id:this.form.id,data:JSON.stringify(this.add_list),quartel_name:this.quartel_name,quartel_time:this.quartel_time},this.addressNode),success:function(i){t.showToast({title:"编辑成功",icon:"none",duration:2e3}),e.http({url:e.api.Quartel_quartelDetails,method:"POST",data:{uid:e.common.get("uid"),token:e.common.get("token"),quartel_id:e.form.id},success:function(t){e.common.set("kanfa",t)}}),setTimeout((function(){e.previous()}),500)}}):this.http({url:this.api.addQuartel,method:"POST",data:n({uid:this.common.get("uid"),token:this.common.get("token"),type:2,data:JSON.stringify(this.add_list),quartel_time:this.quartel_time,quartel_name:this.quartel_name},this.addressNode),success:function(i){t.showToast({title:"添加成功",icon:"none",duration:2e3}),setTimeout((function(){e.previous()}),500)}})}}};e.default=r}).call(this,i("d5d0")["default"])},"688e":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uniDatetimePicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(i.bind(null,"6032"))}},o=function(){var t=this,e=t.$createElement;t._self._c},r=[]},"94c1":function(t,e,i){"use strict";var n=i("d9db"),o=i.n(n);o.a},a3b5:function(t,e,i){"use strict";(function(t){i("a5e5");n(i("dc04"));var e=n(i("3888"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("97ff")["createPage"])},d9db:function(t,e,i){}},[["a3b5","common/runtime","common/vendor"]]]);